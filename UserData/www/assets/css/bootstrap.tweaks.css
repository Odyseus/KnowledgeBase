/*****************
 * General tweaks.
 *****************/
body {
    /* Kepp scrollbars visible because I hate all the elements in the page dancing around. */
    /* NOTE: When using Bootstrap 5.x.x, forcing the y scrollbar will display an extra
    scrollbar that who in the f*ck knows where does it comes from. FFS!!! */
    /*overflow-y: scroll;*/
}

#KB_pseudo-body.show {
    opacity: 1 !important;
    -webkit-transition: opacity 500ms !important;
    -o-transition: opacity 500ms !important;
    transition: opacity 500ms !important;
}

#KB_pseudo-body.hide {
    opacity: 0 !important;
}

#KB_main-content-wrapper {
    position: relative;
    min-height: 100%;
}

/* Add some spacing to keep symmetry. */
/* NOTE: Do not confuse KB_table-wrapper ID with KB_table_wrapper (note the underscore in the latter).
 * KB_table_wrapper is dynamically generated by DataTables.
 */
#KB_table-wrapper {
    margin-top: 0.7rem;
    margin-bottom: 0.7rem;
}

#KB_inline-content {
    /* To actually display the boxed layout. */
    margin-top: 1rem;
    margin-bottom: 1rem;
    height: 100%;
}

/* For Back To Top Buttons. */
#to-top-of-page {
    bottom: 0;
    display: none;
    margin: 0;
    outline: none;
    position: fixed;
    right: 1rem;
    text-decoration: none;
    z-index: 999999;
    opacity: 0.5 !important;
}

#to-top-of-page:hover {
    opacity: 1 !important;
}

/* NOTE: The Back To Top button defined as a span is used in the main index.
 * In the rest of pages this button is defined as a button.
 * This is so because in the main index I can use icons. In the rest of pages
 * is not worth it to include a 200KB stylesheet for just one icon, so I use
 * a character that looks like an arrow.
 */
span#to-top-of-page {
    font-size: 2.5em;
    padding: 0;
}

button#to-top-of-page {
    font-size: 1em;
    font-weight: bold;
}

/* The loading message centered on screen. */
/* stylelint-disable declaration-block-no-duplicate-properties */
#KB_loading > .message {
    -webkit-box-align: center;
    -webkit-align-items: center;
    -ms-flex-align: center;
    align-items: center;
    color: white;
    display: -webkit-box;
    display: -webkit-flex;
    display: -ms-flexbox;
    display: flex;
    -webkit-box-orient: vertical;
    -webkit-box-direction: normal;
    -webkit-flex-direction: column;
    -ms-flex-direction: column;
    flex-direction: column;
    font-size: 2rem;
    -webkit-box-pack: center;
    -webkit-justify-content: center;
    -ms-flex-pack: center;
    justify-content: center;
    min-height: 100vh;
    text-align: center;
}
/* stylelint-enable declaration-block-no-duplicate-properties */

/***************
 * Table tweaks.
 ***************/

/* Override border added by datatables.min.css. */
.table > :not(:first-child) {
    border-top: inherit;
}

#KB_main-index.table th,
#KB_main-index.table td {
    vertical-align: middle !important;
}

/* Expand the size of a link to the entire table cell. */
.KB_title-link,

/* This seems to fix two absolutely annoying bugs:
   - It FINALLY fixed the image column width to randomly expand.
   - And also helps to keep the image column width when hiding the sidebar.
*/
th.KB_title {
    width: 100% !important;
    height: 100% !important;
}

/* Style the-"links" as anchors.
 * "Boldify" them.
 * Attempt to expand the clickable area.
 */
.KB_title-link {
    display: inline-block;
    position: relative;
    cursor: pointer;
    color: var(--bs-success);

    /* Above ".KB_title-link:before" so I can select text.*/
    z-index: 1;

    /* For debugging. DO NOT DELETE.*/
    /*border: 1px solid yellow;*/
}

.KB_title-link:hover {
    opacity: 0.75;
    cursor: pointer;
}

.KB_title-link:before {
    content: "";
    position: absolute;
    top: -0.5em;
    left: -0.5em;
    right: -0.5em;
    bottom: -0.5em;
    cursor: pointer;

    /* Bellow ".KB_title-link" so I can select text.*/
    z-index: -1;

    /* For debugging. DO NOT DELETE.*/
    /*border: 1px solid red;*/
}

/* Set a fixed width for the first column (the image) of the table. */
.KB_img-col {
    width: 24px !important;
    min-width: 24px !important;
    max-width: 24px !important;
}

/* Keep the first column of the table (the image) centered. */
.KB_image {
    text-align: center !important;
}

/* Slim a bit the styling of the buttons in the first column. */
.KB_image .btn-sm {
    border-radius: 3px;
    width: 100% !important;
    vertical-align: middle !important;
    padding: 2px 3px;
}

/*****************
 * Sidebar tweaks.
 *****************/
/* Do not allow scrolling on the wrapper. */
/* stylelint-disable declaration-block-no-duplicate-properties */
#KB_sidebar-wrapper {
    padding: 0;
    margin: 0;
    position: fixed;
    left: 0;
    top: 0;
    right: auto;
    min-height: 100%;
    display: -webkit-box;
    display: -webkit-flex;
    display: -ms-flexbox;
    display: flex;
    -webkit-box-orient: vertical;
    -webkit-box-direction: normal;
    -webkit-flex-direction: column;
    -ms-flex-direction: column;
    flex-direction: column;
    overflow-y: hidden;
    white-space: nowrap;
    height: 100%;
    z-index: 10;
}
/* stylelint-enable declaration-block-no-duplicate-properties */

/* Only allow the sidebar itself to scroll. */
#KB_sidebar {
    overflow-y: auto;
}

/* Let the sidebar use all the available space. And let its wrapper set the background color. */
#KB_sidebar,
#KB_sidebar div {
    padding: 0;
    margin: 0;
    border: none;
    background-color: transparent;
}

/* Expand sidebar items to all the available width. */
#KB_sidebar .nav-item .btn-group,
#KB_sidebar .nav-item .btn-group .KB_cat-btn,
#KB_sidebar .navbar-nav,
#KB_sidebar .nav-item {
    width: 100%;
}

/* Remove default Bootstrap pills border radious and align them to the left. */
#KB_sidebar .nav-link {
    border-radius: 0;
    text-align: left !important;
}

/* Bigger font size for categories. */
#KB_sidebar .nav-item .nav-link {
    font-size: 1rem !important;
}

/* Smaller font size for sub-categories. */
#KB_sidebar .nav-item .nav-link.KB_sub-cat-link {
    font-size: 0.85rem !important;
}

/* Highlight the sidebar "header". */
#KB_sidebar .nav-item.navbar-brand {
    font-weight: bold;
    padding: 0.5rem;
}

/* Less padding for categories and sub-categories. */
#KB_sidebar .nav-item .nav-link.KB_cat-btn {
    padding: 0.25rem 0.5rem;
}

/* Shift sub-categories to the right. */
#KB_sidebar .nav-item .nav-link.KB_cat-btn.KB_sub-cat-link {
    padding-left: 1.5rem;
}

/* Set padding for category icons to separate them from the category name. */
#KB_sidebar .KB_cat-icon {
    padding-right: 0.5rem !important;
}

/* Remove box shadow from category buttons. */
#KB_sidebar .KB_cat-btn:focus,
#KB_sidebar .dropdown-toggle:focus {
    -webkit-box-shadow: none !important;
    box-shadow: none !important;
}

/* Style expanded sub-category togglers. */
#KB_sidebar .dropdown-toggle[aria-expanded="true"]::after {
    border-top: 0 !important;
    border-right: 0.3em solid transparent !important;
    border-bottom: 0.3em solid !important;
    border-left: 0.3em solid transparent !important;
}

/* Colorize sub-category togglers depending on the navbar color. */
#KB_sidebar.navbar-dark button.dropdown-toggle.btn,
#KB_sidebar.navbar-dark button.dropdown-toggle.btn::after {
    color: var(--bs-light);
}

#KB_sidebar.navbar-light button.dropdown-toggle.btn,
#KB_sidebar.navbar-light button.dropdown-toggle.btn::after {
    color: var(--bs-dark);
}

/********
 * Icons.
 ********/
.KB_custom-icon-md::before {
    content: "\f48a" !important;
    font-size: 1.3em !important;
    font-weight: 500 !important;
}

.KB_custom-icon-ext::before {
    content: "\f14c" !important;
    font-size: 1.3em !important;
    font-weight: bold !important;
}

.KB_custom-icon-pdf::before {
    content: "\f411" !important;
    font-size: 1.3em !important;
    font-weight: bold !important;
}

.KB_custom-icon-html::before {
    content: "\f13b" !important;
    font-size: 1.3em !important;
    font-weight: bold !important;
}

.KB_custom-icon-epub::before {
    content: "\fd2c" !important;
    font-size: 1.3em !important;
    font-weight: bold !important;
}

/************************
 * Navigation bar tweaks.
 ************************/

/* NOTE: KB_navbar-button class is a clone of Bootstrap's navbar-toggle class. */
.KB_navbar-button {
    vertical-align: middle !important;
    padding: 0.25rem 0.75rem;
    font-size: 1.5em;
    line-height: 1;
    background-color: transparent;
    border: none;
}

.KB_navbar-button:hover,
.KB_navbar-button:focus {
    text-decoration: none;
    border: none;
}

.KB_navbar-button-icon {
    width: 1.5em;
    height: 1.5em;
    vertical-align: middle;
    content: "";
    background: no-repeat center center;
    -webkit-background-size: 100% 100%;
    background-size: 100% 100%;
}

.navbar-dark .KB_navbar-button {
    color: var(--bs-light);
}

.navbar-light .KB_navbar-button {
    color: var(--bs-dark);
}

/* Set to bold all links on the navigation bar */
#KB_top-navbar .nav-link,
#KB_top-navbar .navbar-brand {
    font-weight: bold !important;
}

/* Set cursor pointers for the "Open file..." and "force reload..." buttons. */
#KB_edit-button,
#KB_reload-button {
    cursor: pointer;
}

#KB_edit-button[disabled],
#KB_reload-button[disabled] {
    cursor: not-allowed;
}

/* Set and allow cursor pointers for the "Clear search input" button */
/*#KB_clear-search-button.form-control-feedback {
    cursor: pointer;
    pointer-events: auto;
}*/

/********************
 * Pagination tweaks.
 ********************/

/* Override padding added by datatables.min.css. */
div.dataTables_wrapper div.dataTables_info {
    padding: 0 !important;
}

@media (max-width: 575px) {
    /* To keep the elements in the same line when they are close to each other on small screens. */
    #KB_top-navbar .container {
        display: contents;
    }
}

@media (max-width: 767px) {
    /* Hide these elements on small screens. They are functionally useless at that sizes. */
    #KB_toggle-sidebar,
    #KB_sidebar-wrapper {
        display: none;
    }
}
