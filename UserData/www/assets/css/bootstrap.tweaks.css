/*****************
 * General tweaks.
 *****************/

/* Content body tweaks. */
#KB_content {
    /* To remove a padding-top that who in the hell knows who put it inline and HOW!!! */
    padding-top: 0 !important;
    /* To actually display the boxed layout. */
    margin-top: 50px;
    margin-bottom: 50px;
}

/* Set cursor pointers for title links and home link */
.KB_title-link,
#KB_home-link {
    cursor: pointer;
}

/* For Back To Top Button */
#to-top-of-page {
    bottom: 0;
    display: none;
    font-size: 2.5em;
    margin: 0;
    outline: none;
    padding: 0;
    position: fixed;
    right: 1rem;
    text-decoration: none;
    z-index: 999999;
}

#to-top-of-page:hover {
    opacity: 0.5 !important;
}

#KB_mainarea {
    padding-bottom: 0.5em !important;
}

/***************
 * Table tweaks.
 ***************/
#KB_main-index.table th,
#KB_main-index.table td {
    vertical-align: middle !important;
}

/* This seems to fix two absolutely annoying bugs:
   - It FINALLY fixed the image column width to randomly expand.
   - And also helps to keep the image column width when hiding the sidebar.
*/
th.KB_title-link,

/* Attempt to expand the clickable area of title links */
.KB_title-link div {
    width: 100% !important;
    height: 100% !important;
}

.KB_title-link div:after {
    content: "";
    height: 100%;
    left: 0;
    top: 0;
    width: 100%;
}

/* Absolutely dirty trick. Remove the padding from the table
and add it to the internal <div>. ¬¬ */
.table-sm td.KB_title-link {
    padding: 0 !important;
}

.table-sm td.KB_title-link div {
    padding: 0.3em !important;
}

/* Set a fixed width for the first column (the image) of the table. */
.KB_img-col {
    width: 24px !important;
    min-width: 24px !important;
    max-width: 24px !important;
}

/* Keep the first column of the table (the image) centered. */
.KB_img-cell-td {
    text-align: center !important;
}

/* Slim a bit the styling of the buttons in the first column. */
.KB_img-cell-td .btn-sm {
    border-radius: 3px;
    width: 100% !important;
    vertical-align: middle !important;
    padding: 2px 3px;
}

/* Set title links to bold and no decoration */
td.KB_title-link {
    font-weight: bold;
    text-decoration: none;
}

/*****************
 * Sidebar tweaks.
 *****************/
#KB_sidebar {
    border-right: 1px solid #eee;
    bottom: 0;
    left: 0;
    overflow-x: hidden;
    overflow-y: auto;
    padding: 20px 0;
    position: fixed;
    top: 0;
    z-index: 1000;
}

#KB_sidebar .nav-item {
    width: 100%;
}

#KB_sidebar .nav-link {
    border-radius: 0;
    font-weight: bold;
    text-align: left !important;
}

#KB_sidebar .nav-item .KB_toggle-cat-btn:hover,
#KB_sidebar .nav-item .KB_cat-btn:not(.active):hover,
#KB_sidebar .nav-item > .nav-link:not(.active):hover {
    background: rgba(0, 0, 0, 0.075) !important;
}

/* Set a transparent background for sub-categories to easily differentiate them
from categories. */
#KB_sidebar .KB_subcats {
    background: rgba(0, 0, 0, 0.05);
}

/* Bigger font size for categories. */
#KB_sidebar .nav-item .nav-link {
    font-size: 1rem !important;
}

/* Smaller font size for sub-categories. */
#KB_sidebar .nav-item .nav-link.KB_sub-cat-link {
    font-size: 0.85rem !important;
}

/* Less padding for categories and sub-categories. */
#KB_sidebar .nav-item .nav-link.KB_cat-btn {
    padding: 0.25rem 0.5rem;
}

#KB_sidebar .nav-item .nav-link.KB_cat-btn.KB_sub-cat-link {
    padding-left: 1.5rem;
}

/* Remove border-radius from the categories that are actually buttons. */
#KB_sidebar .nav-item a.KB_cat-btn,
#KB_sidebar .nav-item a.KB_toggle-cat-btn,
#KB_sidebar .nav-item a.KB_cat-btn:hover,
#KB_sidebar .nav-item a.KB_toggle-cat-btn:hover {
    border-radius: 0 !important;
}

/* Set padding for category icons to separate them from the category name. */
#KB_sidebar .KB_cat-icon {
    padding-right: 5px !important;
}

#KB_sidebar .nav-item .btn-group,
#KB_sidebar .nav-item .btn-group .KB_cat-btn {
    width: 100% !important;
}

#KB_sidebar .KB_toggle-cat-btn[aria-expanded="false"]::before,
#KB_sidebar .KB_toggle-cat-btn[aria-expanded="true"]::before {
    display: inline-block !important;
    width: 0 !important;
    height: 0 !important;
    vertical-align: middle !important;
    content: "" !important;
    border-top: 0.3em solid !important;
    border-right: 0.3em solid transparent !important;
    border-bottom: 0 !important;
    border-left: 0.3em solid transparent !important;
}

#KB_sidebar .KB_toggle-cat-btn[aria-expanded="true"]::before {
    border-top: 0 !important;
    border-right: 0.3em solid transparent !important;
    border-bottom: 0.3em solid !important;
    border-left: 0.3em solid transparent !important;
}

#KB_sidebar .KB_cat-btn:focus,
#KB_sidebar .KB_toggle-cat-btn:focus {
    box-shadow: none !important;
}

/********
 * Icons.
 ********/
.KB_custom-icon-md::before {
    content: "\f48a" !important;
    font-size: 1.3em !important;
    font-weight: 500 !important;
}

.KB_custom-icon-html-external::before {
    content: "\f14c" !important;
    font-size: 1.3em !important;
    font-weight: bold !important;
}

.KB_custom-icon-pdf::before {
    content: "\f1c1" !important;
    font-size: 1.3em !important;
    font-weight: bold !important;
}

.KB_custom-icon-html::before {
    content: "\f13b" !important;
    font-size: 1.3em !important;
    font-weight: bold !important;
}

.KB_custom-icon-epub::before {
    content: "\fd2c" !important;
    font-size: 1.3em !important;
    font-weight: bold !important;
}

/************************
 * Navigation bar tweaks.
 ************************/

/* Get rid of the repugnant box-shadow when the search input is focused.
   Don't even ask me why this even works!!! ¬¬ */
#KB_top-navbar select.custom-select,
#KB_top-navbar input.form-control {
    box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.075) !important;
}

/* Set to bold all links on the navigation bar */
#KB_top-navbar .nav-link,
#KB_top-navbar .navbar-brand {
    font-weight: bold !important;
}

/* Set cursor pointers for the "Open file..." and "force reload..." buttons. */
#KB_edit-button,
#KB_reload-button {
    cursor: pointer;
    font-size: 1.2em;
    font-weight: bold;
}

#KB_edit-button[disabled],
#KB_reload-button[disabled] {
    cursor: not-allowed;
}

#KB_edit-button:focus,
#KB_edit-button.focus,
#KB_reload-button:focus,
#KB_reload-button.focus {
    box-shadow: none !important;
}

#KB_edit-button:hover,
#KB_reload-button:hover {
    opacity: 0.4 !important;
}

/* Set and allow cursor pointers for the "Clear search input" button */
#KB_clear-search-button.form-control-feedback {
    cursor: pointer;
    pointer-events: auto;
}

/* Sidebar/Navbar toggler tweaks */
.navbar-light .navbar-toggler,
.navbar-light .KB_sidebar-toggler {
    background: transparent;
    border-radius: 0.25rem;
    border: 1px solid rgba(0, 0, 0, 0.1);
    font-size: 1rem;
    line-height: 1;
    padding: 0.25rem;
}

.navbar-light .navbar-toggler:hover,
.navbar-light .KB_sidebar-toggler:hover {
    opacity: 0.5 !important;
}

/* Set a padding for the home link to keep it away from the sidebar toggler. */
#KB_home-link {
    padding-left: 10px;
}

/********************
 * Pagination tweaks.
 ********************/

/* Keep the pagination centered. */
div.dataTables_wrapper div.dataTables_paginate ul.pagination {
    justify-content: center !important;
}

/* Smaller pagination. */
.pagination .page-link {
    padding: 0.25rem 0.5rem;
    font-size: 0.8203125rem;
    line-height: 1.5;
}
.pagination .page-item:first-child .page-link {
    border-top-left-radius: 0.2rem !important;
    border-bottom-left-radius: 0.2rem !important;
}
.pagination .page-item:last-child .page-link {
    border-top-right-radius: 0.2rem !important;
    border-bottom-right-radius: 0.2rem !important;
}

/* Colors. */
.pagination > li.page-item > .page-link {
    background-color: white;
    color: black;
    border: 1px solid #dee2e6;
}

.pagination > li.page-item > .page-link:hover {
    background-color: #e9ecef;
}

.pagination > li.page-item.active .page-link {
    z-index: 3;
    color: #fff;
    background-color: var(--primary);
    border-color: var(--primary);
}

.pagination > li.page-item.disabled .page-link {
    color: #6c757d;
    pointer-events: none;
    cursor: auto;
    background-color: #fff;
    border-color: #dee2e6;
}

/* Because "geniuses" upstream removed this!!!!!
   It seems that they added it back. Keep it just in case. ¬¬ */
/*.KB_action-dropdown-menu > .btn {
    white-space: nowrap;
}
*/
